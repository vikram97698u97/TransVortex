<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vehicle & Driver Details with Tab Navigation</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <style>
    * { box-sizing: border-box; }
    body { 
      background: #f0f7fa; 
      font-family: "Segoe UI", Tahoma, Verdana, sans-serif; 
      color: #333; 
      margin: 0; 
      padding: 0; 
      line-height: 1.6;
    }
    .container { 
      max-width: 1200px; 
      margin: 20px auto; 
      background: white; 
      padding: 25px; 
      border-radius: 12px; 
      box-shadow: 0 5px 15px rgba(0,0,0,0.08); 
    }
    h2, h3 { 
      text-align: center; 
      color: #2e8b57; 
      margin: 0 0 20px 0; 
    }
    h2 {
      font-size: 28px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e0e0e0;
    }
    form label { 
      display: block; 
      margin-bottom: 8px; 
      font-weight: 600; 
      color: #444;
    }
    form input, form textarea, form select { 
      width: 100%; 
      padding: 12px; 
      margin-bottom: 15px; 
      border: 1px solid #ccc; 
      border-radius: 6px; 
      font-size: 16px; 
      box-sizing: border-box; 
      transition: border 0.3s;
    }
    form input:focus, form textarea:focus, form select:focus {
      border-color: #43b97f;
      outline: none;
      box-shadow: 0 0 0 2px rgba(67, 185, 127, 0.2);
    }
    .row { 
      display: flex; 
      gap: 15px; 
      flex-wrap: wrap; 
      margin-bottom: 10px;
    }
    .row > * { 
      flex: 1 1 250px; 
      min-width: 200px; 
    }
    button, .download-btn { 
      background-color: #43b97f; 
      color: white; 
      padding: 12px 20px; 
      border: none; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 16px; 
      font-weight: 600;
      transition: background 0.3s, transform 0.2s;
    }
    button:hover, .download-btn:hover { 
      background: #3ba06f; 
      transform: translateY(-2px);
    }
    button:active {
      transform: translateY(0);
    }
    table { 
      width: 100%; 
      border-collapse: collapse; 
      margin-top: 25px; 
      background: white; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    th, td { 
      border-bottom: 1px solid #e0e0e0; 
      padding: 12px 15px; 
      text-align: left; 
      vertical-align: middle; 
      font-size: 14px; 
    }
    th { 
      background: #2e8b57; 
      color: white; 
      font-size: 14px; 
      font-weight: 600;
      position: sticky;
      top: 0;
    }
    tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    tr:hover {
      background-color: #f0f7fa;
    }
    .action-btn { 
      background: #43b97f; 
      color: white; 
      border: none; 
      padding: 8px 12px; 
      border-radius: 4px; 
      cursor: pointer; 
      margin-right: 6px; 
      font-size: 13px;
      transition: background 0.3s;
    }
    .action-btn.delete { 
      background: #e74c3c; 
    }
    .action-btn.delete:hover {
      background: #c0392b;
    }
    .action-btn.report { 
      background: #3498db; 
    }
    .action-btn.report:hover {
      background: #2980b9;
    }
    .action-btn:hover {
      opacity: 0.9;
    }
    .preview { 
      max-width: 120px; 
      max-height: 120px; 
      border-radius: 6px; 
      display: block; 
      margin-top: 8px; 
      border: 1px solid #ddd;
    }
    .progress-wrap { 
      font-size: 13px; 
      margin-top: 6px; 
      color: #666;
    }
    .small { 
      font-size: 13px; 
      color: #666; 
    }
    .section-divider {
      height: 1px;
      background: linear-gradient(to right, transparent, #ddd, transparent);
      margin: 25px 0;
    }
    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 12px;
      border-radius: 6px;
      margin: 15px 0;
      display: none;
    }
    .error-message {
      background: #f8d7da;
      color: #721c24;
      padding: 12px;
      border-radius: 6px;
      margin: 15px 0;
      display: none;
    }
    .filter-section {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Tab Navigation Styles */
    .tab-navigation {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      flex-wrap: wrap;
      gap: 5px;
    }
    .tab {
      padding: 8px 12px;
      background: #e0e0e0;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
      min-width: 40px;
      text-align: center;
    }
    .tab:hover {
      background: #d0d0d0;
    }
    .tab.active {
      background: #2e8b57;
      color: white;
      font-weight: bold;
    }
    .tab-nav-control {
      padding: 8px 12px;
      background: #43b97f;
      color: white;
      border-radius: 4px;
      cursor: pointer;
      margin: 0 5px;
    }
    .tab-nav-control:disabled {
      background: #cccccc;
      cursor: not-allowed;
    }
    .tab-container {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 15px 0;
    }
    .entries-info {
      margin: 15px 0;
      text-align: center;
      font-size: 14px;
      color: #666;
    }
    
    @media (max-width: 900px) {
      .row > * { 
        flex: 1 1 100%; 
      }
      th, td {
        padding: 8px 10px;
      }
      .action-btn {
        display: block;
        margin-bottom: 5px;
        width: 100%;
      }
      .tab-navigation {
        gap: 3px;
      }
      .tab {
        padding: 6px 8px;
        min-width: 35px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Vehicle and Driver Entry Form</h2>
    
    <div id="successMessage" class="success-message">
      <i class="fas fa-check-circle"></i> Operation completed successfully!
    </div>
    
    <div id="errorMessage" class="error-message">
      <i class="fas fa-exclamation-circle"></i> <span id="errorText"></span>
    </div>

    <form id="vehicleDriverForm">
      <div class="row">
        <div>
          <label><i class="fas fa-truck"></i> Vehicle Number *</label>
          <input id="vehicleNumber" required placeholder="e.g. KA01AB1234" />
        </div>
        <div>
          <label><i class="fas fa-car"></i> Vehicle Type</label>
          <input id="vehicleType" placeholder="e.g. Truck, Mini Truck" />
        </div>
      </div>

      <div class="row">
        <div>
          <label><i class="fas fa-user"></i> Driver Name</label>
          <input id="driverName" placeholder="Driver's full name" />
        </div>
        <div>
          <label><i class="fas fa-id-card"></i> Driver License No.</label>
          <input id="driverLicense" placeholder="License number" />
        </div>
      </div>

      <div class="row">
        <div>
          <label><i class="fas fa-phone"></i> Driver Contact Number</label>
          <input id="contactNumber" type="tel" placeholder="+91 1234567890" />
        </div>
        <div>
          <label><i class="fas fa-id-card"></i> License Image (photo)</label>
          <input id="licenseImage" type="file" accept="image/*" />
          <img id="licensePreview" class="preview" style="display:none" />
          <div id="licenseProgress" class="progress-wrap small"></div>
        </div>
      </div>

      <div class="row">
        <div>
          <label><i class="fas fa-file-certificate"></i> PUC Certificate (image/pdf)</label>
          <input id="pucFile" type="file" accept="image/*,application/pdf" />
          <div id="pucProgress" class="progress-wrap small"></div>
        </div>
        <div>
          <label><i class="fas fa-file-contract"></i> Insurance Paper (image/pdf)</label>
          <input id="insuranceFile" type="file" accept="image/*,application/pdf" />
          <div id="insuranceProgress" class="progress-wrap small"></div>
        </div>
      </div>

      <div>
        <label><i class="fas fa-heartbeat"></i> Fitness Certificate (image/pdf)</label>
        <input id="fitnessFile" type="file" accept="image/*,application/pdf" />
        <div id="fitnessProgress" class="progress-wrap small"></div>
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:15px;">
        <button type="submit" id="saveBtn"><i class="fas fa-save"></i> Save Entry</button>
        <button type="button" id="cancelEdit" style="display:none;background:#f39c12"><i class="fas fa-times"></i> Cancel Edit</button>
        <span id="formNote" class="small">Images will be resized (max width 1024px) and converted to WebP before upload.</span>
      </div>
    </form>

    <div class="section-divider"></div>

    <h3>View Vehicle & Driver Info</h3>
    
    <div class="filter-section">
      <div class="row">
        <div>
          <label>Search Vehicle/Driver:</label>
          <input type="text" id="searchInput" placeholder="Search by vehicle no, driver name..." />
        </div>
        <div>
          <label>Filter by Vehicle Type:</label>
          <select id="typeFilter">
            <option value="">All Types</option>
            <option value="Truck">Truck</option>
            <option value="Mini Truck">Mini Truck</option>
            <option value="Container">Container</option>
            <option value="Trailer">Trailer</option>
          </select>
        </div>
        <div>
          <label>Entries per page:</label>
          <select id="entriesPerPage">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="20">20</option>
            <option value="50">50</option>
          </select>
        </div>
      </div>
    </div>
    
    <button class="download-btn" onclick="downloadExcel()"><i class="fas fa-file-excel"></i> Download Excel</button>

    <div class="entries-info" id="entriesInfo"></div>

    <table id="vehicleDriverTable">
      <thead>
        <tr>
          <th>Vehicle Number</th>
          <th>Type</th>
          <th>Driver</th>
          <th>License No.</th>
          <th>Contact</th>
          <th>License Image</th>
          <th>PUC</th>
          <th>Insurance</th>
          <th>Fitness</th>
          <th>Actions</th>
          <th>Report</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <!-- Data will be populated by JavaScript -->
      </tbody>
    </table>

    <!-- Tab Navigation -->
    <div class="tab-container">
      <button class="tab-nav-control" id="prevPage" disabled><i class="fas fa-chevron-left"></i></button>
      <div class="tab-navigation" id="tabNavigation">
        <!-- Tabs will be generated here -->
      </div>
      <button class="tab-nav-control" id="nextPage"><i class="fas fa-chevron-right"></i></button>
    </div>
  </div>

  <!-- Navbar injection -->
  <script src="navbar-loader.js"></script>
  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <!-- XLSX for Excel export (used by download button) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script>
    // Configuration
    const ITEMS_PER_PAGE_OPTIONS = [5, 10, 20, 50];
    let currentPage = 1;
    let itemsPerPage = 10;
    let totalPages = 1;
    let allVehiclesData = {};
    let filteredVehiclesData = {};
    let currentUser = null;
    
    // DOM elements
    const tableBody = document.getElementById("tableBody");
    const tabNavigation = document.getElementById("tabNavigation");
    const prevPageBtn = document.getElementById("prevPage");
    const nextPageBtn = document.getElementById("nextPage");
    const entriesPerPageSelect = document.getElementById("entriesPerPage");
    const entriesInfo = document.getElementById("entriesInfo");
    const searchInput = document.getElementById("searchInput");
    const typeFilter = document.getElementById("typeFilter");
    
    // Initialize the tab interface
    function initTabInterface() {
      // Set up event listeners
      entriesPerPageSelect.addEventListener('change', function() {
        itemsPerPage = parseInt(this.value);
        currentPage = 1;
        renderTableWithPagination();
      });
      
      prevPageBtn.addEventListener('click', function() {
        if (currentPage > 1) {
          currentPage--;
          renderTableWithPagination();
        }
      });
      
      nextPageBtn.addEventListener('click', function() {
        if (currentPage < totalPages) {
          currentPage++;
          renderTableWithPagination();
        }
      });
      
      // Initial render
      renderTableWithPagination();
    }
    
    // Calculate pagination and render table
    function renderTableWithPagination() {
      // Get filtered data
      filterData();
      
      // Calculate pagination values
      const totalItems = Object.keys(filteredVehiclesData).length;
      totalPages = Math.ceil(totalItems / itemsPerPage);
      
      // Update pagination controls
      updatePaginationControls(totalItems);
      
      // Get current page data
      const startIndex = (currentPage - 1) * itemsPerPage;
      const endIndex = Math.min(startIndex + itemsPerPage, totalItems);
      const pageData = Object.entries(filteredVehiclesData)
        .slice(startIndex, endIndex)
        .reduce((obj, [key, value]) => {
          obj[key] = value;
          return obj;
        }, {});
      
      // Render table with only the current page data
      renderTable(pageData);
    }
    
    // Filter data based on search and filter inputs
    function filterData() {
      const searchText = searchInput.value ? searchInput.value.toLowerCase() : '';
      const filterValue = typeFilter.value || '';
      
      filteredVehiclesData = Object.entries(allVehiclesData).reduce((result, [key, vehicle]) => {
        const vehicleNumber = vehicle.vehicleNumber ? vehicle.vehicleNumber.toLowerCase() : '';
        const vehicleType = vehicle.vehicleType || '';
        const driverName = vehicle.driverName ? vehicle.driverName.toLowerCase() : '';
        
        const matchesSearch = searchText === '' || 
          vehicleNumber.includes(searchText) || 
          driverName.includes(searchText);
          
        const matchesFilter = filterValue === '' || 
          vehicleType === filterValue;
        
        if (matchesSearch && matchesFilter) {
          result[key] = vehicle;
        }
        
        return result;
      }, {});
    }
    
    // Update pagination controls
    function updatePaginationControls(totalItems) {
      // Update prev/next buttons
      prevPageBtn.disabled = currentPage === 1;
      nextPageBtn.disabled = currentPage === totalPages;
      
      // Update entries info
      const startIndex = Math.min((currentPage - 1) * itemsPerPage + 1, totalItems);
      const endIndex = Math.min(currentPage * itemsPerPage, totalItems);
      entriesInfo.textContent = `Showing ${startIndex} to ${endIndex} of ${totalItems} entries`;
      
      // Generate page tabs
      generatePageTabs();
    }
    
    // Generate page tabs
    function generatePageTabs() {
      tabNavigation.innerHTML = '';
      
      // Always show first page tab
      addTab(1);
      
      // Calculate range of tabs to show
      let startPage = Math.max(2, currentPage - 2);
      let endPage = Math.min(totalPages - 1, currentPage + 2);
      
      // Add ellipsis if needed after first page
      if (startPage > 2) {
        addEllipsis();
      }
      
      // Add page tabs in calculated range
      for (let i = startPage; i <= endPage; i++) {
        addTab(i);
      }
      
      // Add ellipsis if needed before last page
      if (endPage < totalPages - 1) {
        addEllipsis();
      }
      
      // Always show last page tab if there is more than one page
      if (totalPages > 1) {
        addTab(totalPages);
      }
    }
    
    // Add a tab for a specific page
    function addTab(pageNumber) {
      const tab = document.createElement('div');
      tab.className = `tab ${pageNumber === currentPage ? 'active' : ''}`;
      tab.textContent = pageNumber;
      tab.addEventListener('click', () => {
        currentPage = pageNumber;
        renderTableWithPagination();
      });
      tabNavigation.appendChild(tab);
    }
    
    // Add ellipsis to tab navigation
    function addEllipsis() {
      const ellipsis = document.createElement('div');
      ellipsis.className = 'tab';
      ellipsis.textContent = '...';
      ellipsis.style.cursor = 'default';
      tabNavigation.appendChild(ellipsis);
    }
    
    // Render table with vehicle data
    function renderTable(data) {
      tableBody.innerHTML = '';
      
      for (const key in data) {
        const vehicle = data[key];
        const row = document.createElement('tr');
        
        row.innerHTML = `
          <td>${vehicle.vehicleNumber || '-'}</td>
          <td>${vehicle.vehicleType || '-'}</td>
          <td>${vehicle.driverName || '-'}</td>
          <td>${vehicle.driverLicense || '-'}</td>
          <td>${vehicle.contactNumber || '-'}</td>
          <td>${vehicle.licenseImageUrl ? `<a href="${vehicle.licenseImageUrl}" target="_blank">View</a>` : '-'}</td>
          <td>${vehicle.pucUrl ? `<a href="${vehicle.pucUrl}" target="_blank">View</a>` : '-'}</td>
          <td>${vehicle.insuranceUrl ? `<a href="${vehicle.insuranceUrl}" target="_blank">View</a>` : '-'}</td>
          <td>${vehicle.fitnessUrl ? `<a href="${vehicle.fitnessUrl}" target="_blank">View</a>` : '-'}</td>
          <td>
            <button class="action-btn" onclick="editVehicle('${key}')">Edit</button>
            <button class="action-btn delete" onclick="deleteVehicle('${key}')">Delete</button>
          </td>
          <td>
            <button class="action-btn report" onclick="openReportModal('${vehicle.vehicleNumber}')">Report</button>
          </td>
        `;
        
        tableBody.appendChild(row);
      }
    }
    
    // Basic notifications
    function showSuccess(message) {
      const el = document.getElementById('successMessage');
      if (!el) return;
      el.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
      el.style.display = 'block';
      setTimeout(() => { el.style.display = 'none'; }, 3000);
    }
    function showError(message) {
      const wrap = document.getElementById('errorMessage');
      const text = document.getElementById('errorText');
      if (!wrap || !text) return;
      text.textContent = message;
      wrap.style.display = 'block';
      setTimeout(() => { wrap.style.display = 'none'; }, 5000);
    }
    
    // Download Excel (uses XLSX if available; falls back to CSV)
    function downloadExcel() {
      try {
        const table = document.getElementById('vehicleDriverTable');
        if (window.XLSX && XLSX.utils && XLSX.utils.table_to_book) {
          const wb = XLSX.utils.table_to_book(table, { sheet: 'Vehicle & Driver Details' });
          XLSX.writeFile(wb, 'vehicle-driver-details.xlsx');
          showSuccess('Excel file downloaded successfully!');
        } else {
          // Fallback: CSV
          let csv = '';
          const rows = table.querySelectorAll('tr');
          rows.forEach(r => {
            const cells = Array.from(r.querySelectorAll('th,td')).map(td => '"' + (td.textContent || '').replace(/"/g,'""') + '"');
            csv += cells.join(',') + '\n';
          });
          const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
          const a = document.createElement('a');
          a.href = URL.createObjectURL(blob);
          a.download = 'vehicle-driver-details.csv';
          a.click();
        }
      } catch (e) {
        showError('Failed to download: ' + (e.message || e));
      }
    }
    
    // Stubs for actions (prevent ReferenceErrors)
    function editVehicle(key) {
      showError('Edit feature is not available in this simplified view.');
    }
    function deleteVehicle(key) {
      showError('Delete feature is not available in this simplified view.');
    }
    function openReportModal(vehicleNumber) {
      showError('Report generation is not available in this simplified view.');
    }
    
    // Handle form submission: save entry to Firebase
    async function handleFormSubmit(event) {
      event.preventDefault();
      try {
        if (!currentUser) {
          showError('You are not signed in.');
          return;
        }

        const saveBtn = document.getElementById('saveBtn');
        if (saveBtn) {
          saveBtn.disabled = true;
          saveBtn.innerHTML = '<span class="loading"></span> Saving...';
        }

        // Collect values
        const vehicleNumber = (document.getElementById('vehicleNumber').value || '').trim();
        const vehicleType = (document.getElementById('vehicleType').value || '').trim();
        const driverName = (document.getElementById('driverName').value || '').trim();
        const driverLicense = (document.getElementById('driverLicense').value || '').trim();
        const contactNumber = (document.getElementById('contactNumber').value || '').trim();

        if (!vehicleNumber) {
          showError('Vehicle Number is required.');
          return;
        }

        const key = vehicleNumber.replace(/[^a-zA-Z0-9_-]/g, '_');
        const payload = {
          vehicleNumber,
          vehicleType,
          driverName,
          driverLicense,
          contactNumber,
          addedAt: Date.now(),
          // File uploads are not implemented in this simplified flow
          licenseImageUrl: '',
          pucUrl: '',
          insuranceUrl: '',
          fitnessUrl: ''
        };

        await database.ref(`users/${currentUser.uid}/vehicles/${key}`).set(payload);

        // Reset form and previews
        const form = document.getElementById('vehicleDriverForm');
        if (form) form.reset();
        const licensePreview = document.getElementById('licensePreview');
        if (licensePreview) licensePreview.style.display = 'none';

        showSuccess('Entry saved successfully.');
        // Table will refresh via the 'value' listener in loadVehicles()
      } catch (err) {
        showError('Failed to save entry: ' + (err && err.message ? err.message : err));
      } finally {
        const saveBtn = document.getElementById('saveBtn');
        if (saveBtn) {
          saveBtn.disabled = false;
          saveBtn.innerHTML = '<i class="fas fa-save"></i> Save Entry';
        }
      }
    }
    
    // Load vehicles from Firebase
    function loadVehicles() {
      const vehiclesRef = database.ref(`users/${currentUser.uid}/vehicles`);
      
      vehiclesRef.on('value', (snapshot) => {
        allVehiclesData = snapshot.val() || {};
        renderTableWithPagination();
      }, (error) => {
        showError('Failed to load vehicles: ' + error.message);
      });
    }
    
    // Initialize the application
    function initApp() {
      // Check auth state
      auth.onAuthStateChanged(async (user) => {
        if (user) {
          // 1) Branch restriction: only allow Main branch
          const selectedBranch = localStorage.getItem('selectedBranch');
          if (selectedBranch && selectedBranch !== 'main') {
            showError('Access denied: role is not matching for this branch. Redirecting to Home...');
            setTimeout(() => { window.location.href = 'home.html'; }, 1500);
            return;
          }

          // 2) Role restriction: block normal users (match tyre.html behavior)
          try {
            const profileSnap = await database.ref(`users/${user.uid}/profile`).once('value');
            const profile = profileSnap.exists() ? profileSnap.val() : {};
            const role = (profile.role || profile.userRole || 'normal').toLowerCase();
            if (role === 'normal') {
              showError('Access denied: your role is not permitted to use this feature. Redirecting to Home...');
              setTimeout(() => { window.location.href = 'home.html'; }, 1500);
              return;
            }
          } catch (e) {
            // If profile load fails, default to safe behavior (deny access)
            showError('Access denied: unable to verify role. Redirecting to Home...');
            setTimeout(() => { window.location.href = 'home.html'; }, 1500);
            return;
          }

          currentUser = user;
          loadVehicles();
          initTabInterface();
        } else {
          // Redirect to login page if not authenticated
          window.location.href = "index.html";
        }
      });
      
      // Add event listeners for search and filter
      searchInput.addEventListener("input", () => {
        currentPage = 1;
        renderTableWithPagination();
      });
      
      typeFilter.addEventListener("change", () => {
        currentPage = 1;
        renderTableWithPagination();
      });

      // Save Entry handler
      const form = document.getElementById('vehicleDriverForm');
      if (form) {
        form.addEventListener('submit', handleFormSubmit);
      }
    }
    
    // Initialize Firebase (your existing code)
    const firebaseConfig = {
      apiKey: "AIzaSyDAlk_K8p8Of8Ne6Jpcl2QqXTtm95NgG7o",
      authDomain: "transport-dashboard-ad69a.firebaseapp.com",
      databaseURL: "https://transport-dashboard-ad69a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "transport-dashboard-ad69a",
      storageBucket: "transport-dashboard-ad69a.appspot.com",
      messagingSenderId: "526889676196",
      appId: "1:526889676196:web:66032c80a4aede690ae531",
      measurementId: "G-7F9R7HJYDH"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const database = firebase.database();
    
    // Start the application
    initApp();
  </script>
</body>
</html>
